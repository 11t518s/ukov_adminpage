{"ast":null,"code":"import _regeneratorRuntime from\"/Users/bongsu/Documents/GitHub/ukov_adminpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/bongsu/Documents/GitHub/ukov_adminpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/bongsu/Documents/GitHub/ukov_adminpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/bongsu/Documents/GitHub/ukov_adminpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/bongsu/Documents/GitHub/ukov_adminpage/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{dbService,storageService}from'../fbase';import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Recruit(_ref){var userObj=_ref.userObj;// 삭제할 때 어떤 것을 삭제할 지 확인하기 위해 기존 데이터를 불러옴\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),recruit=_useState2[0],setrecruit=_useState2[1];var getrecruit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var dbrecruit;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dbService.collection(\"recruit\").orderBy('createdAt').get();case 2:dbrecruit=_context.sent;dbrecruit.forEach(function(document){var newrecruit=_objectSpread(_objectSpread({},document.data()),{},{id:document.id});setrecruit(function(prev){return[newrecruit].concat(_toConsumableArray(prev));});});case 4:case\"end\":return _context.stop();}}},_callee);}));return function getrecruit(){return _ref2.apply(this,arguments);};}();useEffect(function(){getrecruit();},[]);// 새로 추가할 스트링 state 선언\nvar _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),newrecruitLink=_useState4[0],setNewrecruitLink=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),newTitle=_useState6[0],setNewTitle=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),newtext1=_useState8[0],setNewtext1=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),newtext2=_useState10[0],setNewtext2=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),newtext3=_useState12[0],setNewtext3=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),newtext4=_useState14[0],setNewtext4=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),newtext5=_useState16[0],setNewtext5=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),newtext6=_useState18[0],setNewtext6=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),newtext7=_useState20[0],setNewtext7=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),newtext8=_useState22[0],setNewtext8=_useState22[1];// input태그에 입력 시 각 state에 정보 업로드\nvar onLinkChange=function onLinkChange(event){var value=event.target.value;setNewrecruitLink(value);};var onTitleChange=function onTitleChange(event){var value=event.target.value;setNewTitle(value);};var ontext1Change=function ontext1Change(event){var value=event.target.value;setNewtext1(value);};var ontext2Change=function ontext2Change(event){var value=event.target.value;setNewtext2(value);};var ontext3Change=function ontext3Change(event){var value=event.target.value;setNewtext3(value);};var ontext4Change=function ontext4Change(event){var value=event.target.value;setNewtext4(value);};var ontext5Change=function ontext5Change(event){var value=event.target.value;setNewtext5(value);};var ontext6Change=function ontext6Change(event){var value=event.target.value;setNewtext6(value);};var ontext7Change=function ontext7Change(event){var value=event.target.value;setNewtext7(value);};var ontext8Change=function ontext8Change(event){var value=event.target.value;setNewtext8(value);};// 파일을 데이터 url로 받아서 화면상에 보여주기\nvar _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),newFile=_useState24[0],setNewFile=_useState24[1];var fileChange=function fileChange(event){var files=event.target.files;var theFile=files[0];var reader=new FileReader();reader.onloadend=function(finishedEvent){setNewFile(finishedEvent.currentTarget.result);};if(theFile){reader.readAsDataURL(theFile);}};// submit 함수 \nvar newSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var fireRef,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();// 파일을 스토리지에 업로드하기\nif(!newFile){_context2.next=7;break;}fireRef=storageService.ref().child(\"recruit/\".concat(uuidv4()));_context2.next=5;return fireRef.putString(newFile,\"data_url\");case 5:response=_context2.sent;setNewFile(response.ref.getDownloadURL());case 7:_context2.next=9;return dbService.collection(\"recruit\").add({title:newTitle,recruitLink:newrecruitLink,recruitURL:newFile,text1:newtext1,text2:newtext2,text3:newtext3,text4:newtext4,text5:newtext5,text6:newtext6,text7:newtext7,text8:newtext8,createdAt:Date.now()});case 9:// 새로 업로드 후 input 태그 초기화\nsetNewrecruitLink('');setNewTitle('');setNewtext1('');setNewtext2('');setNewtext3('');setNewtext4('');setNewtext5('');setNewtext6('');setNewtext7('');setNewtext8('');setNewFile();alert('홈페이지에서 확인해보세요 :)');case 21:case\"end\":return _context2.stop();}}},_callee2);}));return function newSubmit(_x){return _ref3.apply(this,arguments);};}();// 새로운 직무 생길 경우 칸 늘리기\nvar _useState25=useState(0),_useState26=_slicedToArray(_useState25,2),ACount=_useState26[0],setACount=_useState26[1];var ACounter=function ACounter(){if(ACount>6){setACount(7);}else{setACount(ACount+1);}};var ACounterReversed=function ACounterReversed(){if(ACount<0){setACount(0);}else{setACount(ACount-1);}};console.log(newFile);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uB9AC\\uD06C\\uB8E8\\uD305 \\uD0ED \\uC120\\uBC1C\\uBD80\\uBD84\\uC774 \\uC218\\uC815\\uB418\\uB294 \\uACF3\\uC785\\uB2C8\\uB2E4!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"subtitle\",children:\" \\uCD94\\uAC00\\uD558\\uAE30 \"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"editBox\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:newSubmit,children:[\"\\uC774\\uBBF8\\uC9C0 \\uD30C\\uC77C\\uC744 \\uCD94\\uAC00\\uD558\\uC138\\uC694\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:fileChange}),newFile===null?/*#__PURE__*/_jsx(\"div\",{}):/*#__PURE__*/_jsx(\"img\",{src:newFile,alt:\"file\",width:\"300px\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newrecruitLink,onChange:onLinkChange,placeholder:\"\\uB9C1\\uD06C \\uC8FC\\uC18C\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newTitle,onChange:onTitleChange,placeholder:\"\\uD68C\\uC0AC \\uC774\\uB984\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext1,onChange:ontext1Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"br\",{}),ACount>0&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext2,onChange:ontext2Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>0&&/*#__PURE__*/_jsx(\"br\",{}),ACount>1&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext3,onChange:ontext3Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>1&&/*#__PURE__*/_jsx(\"br\",{}),ACount>2&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext4,onChange:ontext4Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>2&&/*#__PURE__*/_jsx(\"br\",{}),ACount>3&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext5,onChange:ontext5Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>3&&/*#__PURE__*/_jsx(\"br\",{}),ACount>4&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext6,onChange:ontext6Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>4&&/*#__PURE__*/_jsx(\"br\",{}),ACount>5&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext7,onChange:ontext7Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>5&&/*#__PURE__*/_jsx(\"br\",{}),ACount>6&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newtext8,onChange:ontext8Change,placeholder:\"\\uC9C1\\uBB34\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694\"}),ACount>6&&/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"\\uCD94\\uAC00\\uD558\\uAE30\",className:\"button\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:ACounter,children:\"\\uD55C \\uC904 \\uCD94\\uAC00\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:ACounterReversed,children:\"\\uD55C \\uC904 \\uC5C6\\uC560\\uAE30\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"subtitle\",children:[\"\\uC0AD\\uC81C\\uD558\\uAE30\",recruit.id]}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap\",children:recruit.map(function(recruit){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"recruitWidth\",children:[/*#__PURE__*/_jsxs(\"a\",{href:recruit.recruitLink,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{width:\"300px\",src:recruit.recruitURL,alt:recruit.title})}),/*#__PURE__*/_jsx(\"h5\",{children:recruit.title}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text1}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text2}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text3}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text4}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text5}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text6}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text7}),/*#__PURE__*/_jsx(\"p\",{children:recruit.text8})]}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:function onClick(){// 컨펌 후 firesore에서 데이터 삭제, storage에서 데이터 삭제\nvar del=window.confirm(\"지우시겠습니까?\");if(del){dbService.doc(\"recruit/\".concat(recruit.id)).delete();storageService.refFromURL(recruit.recruitURL).delete();alert('삭제를 완료했습니다. 새로고침 하시면 확인 가능합니다!');}},children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]})});})})]});}export default Recruit;","map":{"version":3,"sources":["/Users/bongsu/Documents/GitHub/ukov_adminpage/src/components/recruit.js"],"names":["React","useEffect","useState","dbService","storageService","v4","uuidv4","Recruit","userObj","recruit","setrecruit","getrecruit","collection","orderBy","get","dbrecruit","forEach","document","newrecruit","data","id","prev","newrecruitLink","setNewrecruitLink","newTitle","setNewTitle","newtext1","setNewtext1","newtext2","setNewtext2","newtext3","setNewtext3","newtext4","setNewtext4","newtext5","setNewtext5","newtext6","setNewtext6","newtext7","setNewtext7","newtext8","setNewtext8","onLinkChange","event","value","target","onTitleChange","ontext1Change","ontext2Change","ontext3Change","ontext4Change","ontext5Change","ontext6Change","ontext7Change","ontext8Change","newFile","setNewFile","fileChange","files","theFile","reader","FileReader","onloadend","finishedEvent","currentTarget","result","readAsDataURL","newSubmit","preventDefault","fireRef","ref","child","putString","response","getDownloadURL","add","title","recruitLink","recruitURL","text1","text2","text3","text4","text5","text6","text7","text8","createdAt","Date","now","alert","ACount","setACount","ACounter","ACounterReversed","console","log","map","del","window","confirm","doc","delete","refFromURL"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { dbService, storageService } from '../fbase';\nimport { v4 as uuidv4 } from \"uuid\";\n\n\n\nfunction Recruit({userObj}) {\n\n    // 삭제할 때 어떤 것을 삭제할 지 확인하기 위해 기존 데이터를 불러옴\n    const [recruit, setrecruit] = useState([])\n    const getrecruit = async () =>{\n        const dbrecruit = await dbService.collection(\"recruit\").orderBy('createdAt').get();\n        dbrecruit.forEach((document) => {\n            const newrecruit = {\n                ...document.data(),\n                id: document.id\n            };\n            setrecruit((prev) => [newrecruit, ...prev]);\n        });\n    };\n    useEffect(()=>{\n        getrecruit();\n    }, [])\n\n\n    // 새로 추가할 스트링 state 선언\n    const [newrecruitLink, setNewrecruitLink] = useState(null);\n    const [newTitle, setNewTitle] = useState(null);\n    const [newtext1, setNewtext1] = useState(null);\n    const [newtext2, setNewtext2] = useState(null);\n    const [newtext3, setNewtext3] = useState(null);\n    const [newtext4, setNewtext4] = useState(null);\n    const [newtext5, setNewtext5] = useState(null);\n    const [newtext6, setNewtext6] = useState(null);\n    const [newtext7, setNewtext7] = useState(null);\n    const [newtext8, setNewtext8] = useState(null);\n\n\n\n    // input태그에 입력 시 각 state에 정보 업로드\n    const onLinkChange = (event) => {\n        const {target:{value}} = event;\n        setNewrecruitLink(value)\n    }\n    const onTitleChange = (event) => {\n        const {target:{value}} = event;\n        setNewTitle(value)\n    }\n    const ontext1Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext1(value)\n    }\n    const ontext2Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext2(value)\n    }\n    const ontext3Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext3(value)\n    }\n    const ontext4Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext4(value)\n    }\n    const ontext5Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext5(value)\n    }\n    const ontext6Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext6(value)\n    }\n    const ontext7Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext7(value)\n    }\n    const ontext8Change = (event) => {\n        const {target:{value}} = event;\n        setNewtext8(value)\n    }\n\n        // 파일을 데이터 url로 받아서 화면상에 보여주기\n        const [newFile, setNewFile] = useState(null)\n        const fileChange = (event) => {\n            const {\n                target: {files}\n            } = event;\n\n            const theFile = files[0];\n            const reader = new FileReader();\n            reader.onloadend = (finishedEvent) => {\n                setNewFile(finishedEvent.currentTarget.result)\n            };\n            if(theFile){\n            reader.readAsDataURL(theFile);}\n        };\n    \n\n    // submit 함수 \n    const newSubmit = async (event) => {\n        event.preventDefault();\n\n        // 파일을 스토리지에 업로드하기\n        if (newFile){\n        const fireRef = storageService.ref().child(`recruit/${uuidv4()}`)\n        const response = await fireRef.putString(newFile, \"data_url\")\n        setNewFile(response.ref.getDownloadURL())\n        }\n\n        // 스트링 정보를 넣어주기\n        await dbService.collection(\"recruit\").add({\n            title: newTitle,\n            recruitLink: newrecruitLink,\n            recruitURL: newFile,\n            text1: newtext1,\n            text2: newtext2,\n            text3: newtext3,\n            text4: newtext4,\n            text5: newtext5,\n            text6: newtext6,\n            text7: newtext7,\n            text8: newtext8,\n            createdAt: Date.now(),\n        })\n\n        // 새로 업로드 후 input 태그 초기화\n        setNewrecruitLink('')\n        setNewTitle('')\n        setNewtext1('')\n        setNewtext2('')\n        setNewtext3('')\n        setNewtext4('')\n        setNewtext5('')\n        setNewtext6('')\n        setNewtext7('')\n        setNewtext8('')\n        setNewFile()\n        alert('홈페이지에서 확인해보세요 :)')\n    }\n\n\n    // 새로운 직무 생길 경우 칸 늘리기\n    const [ACount, setACount] = useState(0)\n    const ACounter = () => {\n        if (ACount > 6){\n        setACount(7)\n    } else {\n        setACount(ACount+1)}\n    }\n    const ACounterReversed = () => {\n        if (ACount < 0){\n            setACount(0)\n        } else {\n        setACount(ACount-1)\n    }\n    }\n\n    \n    console.log(newFile)\n    return (\n        <>\n\n            <div className='title'>리크루팅 탭 선발부분이 수정되는 곳입니다!</div>\n            <div className='subtitle'> 추가하기 </div>\n            <div>\n                <div className='editBox'>\n                <form onSubmit={newSubmit} >\n                이미지 파일을 추가하세요<input type='file' onChange={fileChange}/>\n                {newFile === null\n                ? <div></div> \n                : <img src={newFile} alt='file' width='300px' />}<br/>\n                    <input  type='text' value={newrecruitLink} onChange={onLinkChange} placeholder='링크 주소를 입력하세요'/><br/>\n                    <input  type='text' value={newTitle} onChange={onTitleChange} placeholder='회사 이름을 입력해주세요'/><br/>\n                    <input  type='text' value={newtext1} onChange={ontext1Change} placeholder='직무를 입력해주세요'/><br/>\n\n                    {ACount > 0 && <input  type='text' value={newtext2} onChange={ontext2Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 0 &&<br/>}\n\n                    {ACount > 1 && <input  type='text' value={newtext3} onChange={ontext3Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 1 &&<br/>}\n\n                    {ACount > 2 && <input  type='text' value={newtext4} onChange={ontext4Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 2 &&<br/>}\n\n                    {ACount > 3 && <input  type='text' value={newtext5} onChange={ontext5Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 3 &&<br/>}\n\n                    {ACount > 4 && <input  type='text' value={newtext6} onChange={ontext6Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 4 &&<br/>}\n\n                    {ACount > 5 && <input  type='text' value={newtext7} onChange={ontext7Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 5 &&<br/>}\n\n                    {ACount > 6 && <input  type='text' value={newtext8} onChange={ontext8Change} placeholder='직무를 입력해주세요'/>}\n                    {ACount > 6 &&<br/>}\n\n\n\n\n                    <input  type='submit' value=\"추가하기\" className='button'/>\n                </form>\n                <br/><br/>\n\n                <button onClick={ACounter}>한 줄 추가하기</button>\n                <button onClick={ACounterReversed}>한 줄 없애기</button>\n                </div>\n                </div>\n\n            <div className='subtitle'>삭제하기{recruit.id}</div>\n\n        <div className='wrap'>\n          {recruit.map((recruit)=>(\n              <>\n              <div className='recruitWidth'>\n                <a href={recruit.recruitLink}>\n                    <div><img width='300px' src={recruit.recruitURL} alt={recruit.title}/></div>\n                    <h5>{recruit.title}</h5>\n                    <p>{recruit.text1}</p>\n                    <p>{recruit.text2}</p>\n                    <p>{recruit.text3}</p>\n                    <p>{recruit.text4}</p>\n                    <p>{recruit.text5}</p>\n                    <p>{recruit.text6}</p>\n                    <p>{recruit.text7}</p>\n                    <p>{recruit.text8}</p>\n\n                </a>\n\n                    <button className='button' onClick={()=>{\n                        // 컨펌 후 firesore에서 데이터 삭제, storage에서 데이터 삭제\n                        const del = window.confirm(\"지우시겠습니까?\");\n                            if (del) {\n                        dbService.doc(`recruit/${recruit.id}`).delete()\n                        storageService.refFromURL(recruit.recruitURL).delete()\n                        alert('삭제를 완료했습니다. 새로고침 하시면 확인 가능합니다!')\n                    }\n                    }}>삭제하기</button>\n                </div>\n                </>\n                ))}    \n        </div> \n        </>\n    )\n}\n\nexport default Recruit;"]},"metadata":{},"sourceType":"module"}